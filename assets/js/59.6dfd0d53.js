(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{370:function(e,t,p){"use strict";p.r(t);var n=p(25),i=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"安装配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装配置"}},[e._v("#")]),e._v(" 安装配置")]),e._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),t("p",[e._v("Centos 7.x 下安装 PHP, "),t("a",{attrs:{href:"https://www.php.net/downloads.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网"),t("OutboundLink")],1)]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// 1. 下载二进制文件\n$ wget https://www.php.net/distributions/php-7.3.11.tar.gz\n$ tar -zxvf php-7.3.11.tar.gz\n$ cd php-7.3.11\n$ ./configure --prefix=/usr/local/php/php-7.3.11 --with-fpm-user=nginx --with-fpm-group=nginx --with-curl --with-freetype-dir --with-gd --with-gettext --with-iconv-dir --with-kerberos --with-libdir=lib64 --with-libxml-dir --with-mysqli --with-openssl --with-pcre-regex --with-pdo-mysql --with-pdo-sqlite --with-pear --with-png-dir --with-jpeg-dir --with-xmlrpc --with-xsl --with-zlib --with-bz2 --with-mhash --enable-fpm --enable-bcmath --enable-libxml --enable-inline-optimization --enable-mbregex --enable-mbstring --enable-opcache --enable-pcntl --enable-shmop --enable-soap --enable-sockets --enable-sysvsem --enable-sysvshm --enable-xml\n$ make && make install\n\n// 2. 配置文件\n$ cp php.ini-production /usr/local/php/php-7.3.11/lib/php.ini\n$ cp sapi/fpm/php-fpm.conf /usr/local/php/php-7.3.11/etc/php-fpm.conf\n$ cp sapi/fpm/www.conf /usr/local/php/php-7.3.11/etc/php-fpm.d/www.conf\n$ cp sapi/fpm/php-fpm.service /lib/systemd/system/php-fpm.service\n\n// 3. 启动服务\n$ systemctl start php-fpm\n")])])]),t("h2",{attrs:{id:"pecl-安装扩展"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pecl-安装扩展"}},[e._v("#")]),e._v(" PECL 安装扩展")]),e._v(" "),t("blockquote",[t("p",[e._v("编译")])]),e._v(" "),t("ul",[t("li",[e._v("到"),t("a",{attrs:{href:"https://pecl.php.net/",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("pecl.php.net")]),t("OutboundLink")],1),e._v("搜索 redis")]),e._v(" "),t("li",[e._v("下载 stable 版扩展")]),e._v(" "),t("li",[e._v("解压文件, 并进入目录, 执行 "),t("code",[e._v("/usr/local/php/bin/phpize")]),e._v(" (作用是检测 PHP 的内核版本,并为扩展生成相应的编译配置)")]),e._v(" "),t("li",[e._v("配置 "),t("code",[e._v("configure --with-php-config=/usr/local/php/bin/php-config")])]),e._v(" "),t("li",[e._v("安装 "),t("code",[e._v("make && make install")])])]),e._v(" "),t("blockquote",[t("p",[e._v("引入编译出的 redis.so 插件")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('vim /usr/local/etc/php/7.2/conf.d/ext-redis.ini\n\n[redis]\nextension="/usr/local/opt/php72-redis/redis.so"\n\n# 重启php\n')])])])])}),[],!1,null,null,null);t.default=i.exports}}]);