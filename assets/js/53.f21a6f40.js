(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{364:function(e,n,r){"use strict";r.r(n);var t=r(25),s=Object(t.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"jenkins"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[e._v("#")]),e._v(" jenkins")]),e._v(" "),n("p",[n("a",{attrs:{href:"http://www.cnblogs.com/miniren/category/792799.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("帮助"),n("OutboundLink")],1),e._v(" "),n("a",{attrs:{href:"http://skyseraph.com/2016/07/18/Tools/Jenkins%20Gitlab%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%E6%89%93%E5%8C%85%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Jenkins Gitlab持续集成打包平台搭建"),n("OutboundLink")],1),e._v(" "),n("a",{attrs:{href:"https://blog.csdn.net/leo15561050003/article/details/79818176",target:"_blank",rel:"noopener noreferrer"}},[e._v("构建/回滚"),n("OutboundLink")],1)]),e._v(" "),n("blockquote",[n("p",[e._v("服务配置")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('\n\n// Invoke Phing targets\n\n// Targets:\ntar\n\n// Properties:\n\nbuildid=${BUILD_ID}\nbuildnumber=${BUILD_NUMBER}\n\n// ssh-server\n\n// Source files\n\ndist/source-service.${BUILD_NUMBER}.${BUILD_ID}.tar.gz\n\n// Remove prefix\n\ndist/\n\n// Remote directory\n\n/home/jenkins/source-service\n\n// Exec command\n\ncd /home/jenkins/source-service\ntar -zxf source-service.${BUILD_NUMBER}.${BUILD_ID}.tar.gz -C /www/wwwroot/score/\nchown -R www:www /www/wwwroot/score\ncd /www/wwwroot/score/\nsh test.sh\ngit fetch --all\ngit reset --hard origin/dev\nfind /home/jenkins/source-service/ -mtime +3 -name "*.tar.gz" -exec rm -rf {} \\;\n')])])])])}),[],!1,null,null,null);n.default=s.exports}}]);